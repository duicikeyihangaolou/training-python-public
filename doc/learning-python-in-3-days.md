# Python 3 日谈

## 课程目录

| 日程    | 时间 | 课程              | 内容                |
| ------ | ---- | ---------------- | ------------------ |
| 第 1 天 | 上午 | [1. 基础](#1-基础) | [1.1 简介](#11-简介) |
|        |      |                  | [1.2 开发环境搭建](#12-开发环境搭建) |
|        |      |                  | [1.3 变量和对象](#13-变量和对象) |
|        |      |                  | [1.4 基本对象和标准库](#14-基本对象和标准库) |
|        | 下午 | [2. 进阶](#2-进阶) | [2.1 高阶函数](#21-高阶函数) |
|        |      |                  | [2.2 类和实例](#22-类和实例) |
|        |      |                  | [2.3 设计模式简介](#23-设计模式简介) |
|        |      |                  | [2.4 正则表达式](#24-正则表达式) |
|        |      |                  | [2.5 异常处理](#25-异常处理) |
| 第 2 天 | 上午 | [3. 开发](#3-开发相关) | [3.1 版本控制](#31-版本控制) |
|        |     |                   | [3.2 自动化测试](#32-自动化测试) |
|        |     |                   | [3.3 自动化任务](#33-自动化任务) |
|        |     |      | [3.4 开发规范](#34-开发规范) |
|        | 下午 | [4. Web](#4-web-开发) | [4.1 MVC 框架](#41-mvc-框架) |
|        |     |                   | [4.2 Restful API](#42-restful-api) |
|        |     |                   | [4.3 服务部署](#43-服务部署) |
| 第 3 天 | 上午 | [5. 算法](#5-算法和设计模式相关) | [5.1 算法复杂度](#51-算法复杂度) |
|        |     |                   | [5.2 算法实践](#52-算法实践) |
|        |     |                   | [5.3 设计模式实践](#53-设计模式实践) |
|        | 下午 | [6. 系统](#6-系统相关) | [6.1 shell 编程](#61-shell-编程) |
|        |     |                   | [6.2 父子进程调用](#62-父子进程调用) |
|        |     |                   | [6.3 文件和目录](#63-文件和目录) |
|        |     |                   | [6.4 并行计算](#64-并行计算) |

## 注意 ⚠️

- *斜体表示引用*
- **未经允许，请勿转载**

## 1. 基础

[返回目录](#课程目录)

### 1.1 简介

[返回目录](#课程目录)

#### 1.1.1 比较流行的程序语言是哪些？

- TIOBE Index：<https://tiobe.com/tiobe-index/>

    *TIOBE 编程社区指数是编程语言流行度的一个指标。该索引每月更新一次。评级基于全球熟练工程师的数量、课程和第三方供应商的数量。Google、Bing、Yahoo!、维基百科、亚马逊、YouTube 和百度等流行搜索引擎用于计算评级。*

    截至 2022 年 1 月，编程语言流行趋势图如下：

    ![](images/tiobe-202201.png)

    *Python 于 2021 年初从 TIOBE 索引的第 3 位开始，将 Java 和 C 抛在后面，成为 TIOBE 索引的第一名。但 Python 的流行并不止于此。目前，它比其他人领先 1% 以上。Java 在 2001 年创下 26.49% 评级的历史记录还很遥远，但 Python 已经成为许多领域事实上的标准编程语言。没有迹象表明 Python 的胜利行军将很快停止。*

    *Python 有没有真正的竞争者？未来可能会竞争的任何新的闪亮语言？如果我们看看过去几年有前途的语言，我们会看到 2021 年的以下变化：Swift 从 #13 到 #10，Go 从 #14 到 #13，Rust 从 #26 到 #26，Julia 从 #23 到#28，Kotlin 从 #40 到 #29，Dart 从 #25 到 #37，TypeScript 从 #42 到 #49。因此，除了 Swift 和 Go 之外，我们预计不会很快有任何新语言进入前 5 名甚至前 3 名。*

- 一种编程语言为什么会流行？
    - 主要原因：**应用广泛（有用）、开发效率高 & 易维护（好用）**
    - 次要原因：性能优异、暂无竞争对手（垄断）

    思考：排名靠前的语言们，它们各自为什么流行？

#### 1.1.2 Python 的起源

- 创始人：[Guido van Rossum](https://baike.baidu.com/item/%E5%90%89%E5%A4%9A%C2%B7%E8%8C%83%E7%BD%97%E8%8B%8F%E5%A7%86/328361)，数学和计算机硕士
- 大龄男青年：1989 年圣诞假期，MAC 笔记本一夜完成
- Python 命名源自 Guido 最英国肥皂剧《Monty Python 马戏团》

#### 1.1.3 什么是 Pythonic 的编程思维？

- Python 是工程，不是艺术（解决同一个问题用同一种方法）
- 简单优于复杂
- 明确优于晦涩（复杂优于难懂，要始终保持代码的易读性，“让易读的代码进行性能优化”远比“让高效的代码变得易读”要容易）

更具体一点：

- 自顶而下的面向接口的设计
- 恰当地使用数据结构、算法和设计模式
- 代码越少越好（尽量用标准库，代码越少 Bug 越少）
- 尽量减少写复杂的嵌套循环和分支结构，善用解析和高阶函数，把一个复杂的大循环拆成多个简单的小循环

#### 1.1.4 新手应该如何学习编程？

- Eric Raymond 推荐的学习路径：**Python -> Java -> C**，参考：[如何成为一名黑客-Eric-S-Raymond.pdf](如何成为一名黑客-Eric-S-Raymond.pdf)
- 选择基础而全面的入门书
    - 官方网站：<http://www.python.org>
    - [Python 学习手册 5th](https://book.douban.com/subject/30364619/)
    - [Python 3 标准库](https://book.douban.com/subject/30346181/)
- 到开源项目中去读代码、提交代码

    Python 开源项目非常多，其中 [OpenStack](https://opendev.org/openstack) 是集 Python 工程实现之大成的 IaaS 云计算项目，囊括几乎所有 Python 的应用相关技术，包括：

    - 基于 MVC 的 Web 网站（Horizon 用了 Django 框架）
    - 基于 Restful API 的 Web Service（Pecan / Webob / Flask / Paste 等框架）
    - Restful API 客户端框架（SDK）
    - 数据库处理（SqlAlchemy）
    - 对接消息队列
    - 对接（缓存处理）
    - 命令行编程
    - 类库打包和动态加载
    - 配置文件解析
    - 日志处理
    - 容器化封装（Kolla）
    - 自动化部署（Ansible）
    - 认证、鉴权和准入
    - 服务注册和服务发现
    - 对接时序数据库
    - 计量和监控（ceilometer 等）

- 程序语言以外的部分
    - 系统（容器、虚拟化）、存储、网络和知识
    - 算法和数据结构
    - 面向对象和设计模式
    - 软件工程和项目管理

### 1.2 开发环境搭建

[返回目录](#课程目录)

### 1.2.1 [Python 在 Windows 上如何安装？](Installation-Python.md)

### 1.2.2 Python 程序在命令行窗口中如何运行？

- 交互式运行环境：用于 Debug
    - 在命令行中输入 `python`，进入交互环境
    - 交互环境会自动打印出对象的值，比如 `2*3`
    - 退出交互环境：`exit()`，回车
- 运行单行命令：用于和 Shell 命令交互，比如：`python -c "print(3*5)"`
- 运行脚本，比如：`python test.py`

### 1.2.3 [如何用 VSCode 编写和调试 Python 程序？](Installation-VSCode.md)

### 1.2.4 Python 体系结构

- Python 虚拟机
    - Python 虚拟机是安装在操作系统上的软件，用来解析和运行符合Python 语法的命令或者脚本
    - 之前安装 python 就是在安装 Python 虚拟机
- Python 语法
    - Python 程序由**模块**组成，模块由**语句**组成，语句由**表达式**组成，表达式建立和处理**对象**
    - 表达式有返回值，语句没有返回值
    - Python 语法基于**冒号**和**缩进**，缩进可以选择用 tab 或者空格，但在整个程序中要保持一致

        ```python
        '''
        Check if input-number > 42
        '''
        aStr = input("Input: ")
        # print aStr
        aInt = int(aStr)
        if aInt > 42:
            print("> 42")
        else:
            print("<= 42")
        ```

        - 多行注释：`"""…"""` 或者 `'''…'''`，也是 PyDoc 的写法
        - 标准输入：`input("Prompt string: ")`
        - 单行注释: `#...`
        - 强制缩进 / 所见即所得
        - 没有大括号 / 小括号 / 分号（其实可以有，但会被鄙视）
        - 标准输出：`print(...)`

#### 1.2.5 帮助文档 Pydoc

- 交互环境：查询 sys 模块的帮助文档：`help(sys)`
- chm 文档（Windows 环境）
- 本地网页，执行 Shell：`python -m pydoc -p 1234`，Web 浏览器访问：<http://localhost:1234>

### 1.3 变量和对象

[返回目录](#课程目录)

### 1.4 基本对象和标准库

[返回目录](#课程目录)

## 2. 进阶

[返回目录](#课程目录)

### 2.1 高阶函数

[返回目录](#课程目录)

### 2.2 类和实例

[返回目录](#课程目录)

### 2.3 设计模式简介

[返回目录](#课程目录)

### 2.4 正则表达式

[返回目录](#课程目录)

### 2.5 异常处理

[返回目录](#课程目录)

## 3. 开发相关

[返回目录](#课程目录)

### 3.1 版本控制

[返回目录](#课程目录)

### 3.2 自动化测试

[返回目录](#课程目录)

### 3.3 自动化任务

[返回目录](#课程目录)

### 3.4 开发规范

[返回目录](#课程目录)

## 4. Web 开发

[返回目录](#课程目录)

### 4.1 MVC 框架

[返回目录](#课程目录)

### 4.2 Restful API

[返回目录](#课程目录)

### 4.3 服务部署

[返回目录](#课程目录)

## 5. 算法和设计模式相关

[返回目录](#课程目录)

### 5.1 算法复杂度

[返回目录](#课程目录)

### 5.2 算法实践

[返回目录](#课程目录)

### 5.3 设计模式实践

[返回目录](#课程目录)

## 6. 系统相关

[返回目录](#课程目录)

### 6.1 shell 编程

[返回目录](#课程目录)

### 6.2 父子进程调用

[返回目录](#课程目录)

### 6.3 文件和目录

[返回目录](#课程目录)

### 6.4 并行计算

[返回目录](#课程目录)
